{"ast":null,"code":"import _regeneratorRuntime from \"/home/airoslive/Codes/EthCode/BountyCollector/client/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/airoslive/Codes/EthCode/BountyCollector/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/airoslive/Codes/EthCode/BountyCollector/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/airoslive/Codes/EthCode/BountyCollector/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/airoslive/Codes/EthCode/BountyCollector/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/airoslive/Codes/EthCode/BountyCollector/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/airoslive/Codes/EthCode/BountyCollector/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/airoslive/Codes/EthCode/BountyCollector/client/src/components/AddBounty.jsx\";\nimport React, { Component } from \"react\";\n\nvar AddBounty =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(AddBounty, _Component);\n\n  function AddBounty(props) {\n    var _this;\n\n    _classCallCheck(this, AddBounty);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AddBounty).call(this, props));\n    _this.state = {\n      bountyName: \"\",\n      boutyDescription: \"\",\n      bountyValue: \"\"\n    };\n\n    _this.addBounty =\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(name, description, value) {\n        var ethValue, responseAddBounty, bountyID;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                ethValue = value * 1000000000000000000; // I would use web3.utils.toWei but somehow did not work (could not pass the args without errors)\n\n                if (!(name && description && value)) {\n                  _context.next = 19;\n                  break;\n                }\n\n                _context.prev = 2;\n                _context.next = 5;\n                return _this.props.appState.contract.addBounty(name, description, {\n                  from: _this.props.appState.accounts[0],\n                  value: ethValue\n                });\n\n              case 5:\n                responseAddBounty = _context.sent;\n                console.log(responseAddBounty);\n                bountyID = parseInt(responseAddBounty[\"logs\"][\"0\"][\"args\"][\"0\"]); // I am catching the event as payable is not returning the value\n\n                _context.next = 10;\n                return _this.props.appState.contract.fetchBounty(bountyID);\n\n              case 10:\n                _this.props.onAddBounty(bountyID);\n\n                _context.next = 17;\n                break;\n\n              case 13:\n                _context.prev = 13;\n                _context.t0 = _context[\"catch\"](2);\n                console.log(_context.t0);\n                alert(\"Fail to post Bounty\");\n\n              case 17:\n                _context.next = 20;\n                break;\n\n              case 19:\n                alert(\"Missing elements to send a bounty\");\n\n              case 20:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[2, 13]]);\n      }));\n\n      return function (_x, _x2, _x3) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    var bountyName = \"\";\n    var bountyDescription = \"\";\n    var bountyValue = \"\";\n    _this.state = {\n      bountyName: bountyName,\n      bountyDescription: bountyDescription,\n      bountyValue: bountyValue\n    };\n    return _this;\n  }\n\n  _createClass(AddBounty, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      console.log(\"render Add Bounty\");\n      return React.createElement(\"div\", {\n        className: \"addBounty\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }, \"Add bounty\"), React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }, \"Name\", React.createElement(\"input\", {\n        value: this.state.bountyName,\n        onChange: function onChange(evt) {\n          _this2.setState({\n            bountyName: evt.target.value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }), \" \"), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, \"Description\", React.createElement(\"input\", {\n        value: this.state.bountyDescription,\n        onChange: function onChange(evt) {\n          _this2.setState({\n            bountyDescription: evt.target.value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      })), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, \"Reward\", React.createElement(\"input\", {\n        value: this.state.bountyValue,\n        onChange: function onChange(evt) {\n          _this2.setState({\n            bountyValue: evt.target.value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      })), React.createElement(\"button\", {\n        onClick: function onClick(e) {\n          e.preventDefault();\n\n          _this2.addBounty(_this2.state.bountyName, _this2.state.bountyDescription, _this2.state.bountyValue);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }, \"Add Bounty\")));\n    }\n  }]);\n\n  return AddBounty;\n}(Component);\n\nexport default AddBounty;","map":{"version":3,"sources":["/home/airoslive/Codes/EthCode/BountyCollector/client/src/components/AddBounty.jsx"],"names":["React","Component","AddBounty","props","state","bountyName","boutyDescription","bountyValue","addBounty","name","description","value","ethValue","appState","contract","from","accounts","responseAddBounty","console","log","bountyID","parseInt","fetchBounty","onAddBounty","alert","bountyDescription","evt","setState","target","e","preventDefault"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;;IAEMC,S;;;;;AAOJ,qBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,mFAAMA,KAAN;AADiB,UANnBC,KAMmB,GANX;AACNC,MAAAA,UAAU,EAAE,EADN;AAENC,MAAAA,gBAAgB,EAAE,EAFZ;AAGNC,MAAAA,WAAW,EAAE;AAHP,KAMW;;AAAA,UAQnBC,SARmB;AAAA;AAAA;AAAA;AAAA;AAAA,+BAQP,iBAAOC,IAAP,EAAaC,WAAb,EAA0BC,KAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AACJC,gBAAAA,QADI,GACOD,KAAK,GAAG,mBADf,EACoC;;AADpC,sBAENF,IAAI,IAAIC,WAAR,IAAuBC,KAFjB;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,uBAI0B,MAAKR,KAAL,CAAWU,QAAX,CAAoBC,QAApB,CAA6BN,SAA7B,CAAuCC,IAAvC,EAA6CC,WAA7C,EAA0D;AAACK,kBAAAA,IAAI,EAAE,MAAKZ,KAAL,CAAWU,QAAX,CAAoBG,QAApB,CAA6B,CAA7B,CAAP;AAAwCL,kBAAAA,KAAK,EAAEC;AAA/C,iBAA1D,CAJ1B;;AAAA;AAIAK,gBAAAA,iBAJA;AAKNC,gBAAAA,OAAO,CAACC,GAAR,CAAYF,iBAAZ;AACMG,gBAAAA,QANA,GAMWC,QAAQ,CAACJ,iBAAiB,CAAC,MAAD,CAAjB,CAA0B,GAA1B,EAA+B,MAA/B,EAAuC,GAAvC,CAAD,CANnB,EAMkE;;AANlE;AAAA,uBAOA,MAAKd,KAAL,CAAWU,QAAX,CAAoBC,QAApB,CAA6BQ,WAA7B,CAAyCF,QAAzC,CAPA;;AAAA;AAQN,sBAAKjB,KAAL,CAAWoB,WAAX,CAAuBH,QAAvB;;AARM;AAAA;;AAAA;AAAA;AAAA;AAUNF,gBAAAA,OAAO,CAACC,GAAR;AACAK,gBAAAA,KAAK,CAAC,qBAAD,CAAL;;AAXM;AAAA;AAAA;;AAAA;AAcRA,gBAAAA,KAAK,CAAE,mCAAF,CAAL;;AAdQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OARO;;AAAA;AAAA;AAAA;AAAA;;AAEjB,QAAMnB,UAAU,GAAG,EAAnB;AACA,QAAMoB,iBAAiB,GAAG,EAA1B;AACA,QAAMlB,WAAW,GAAG,EAApB;AACA,UAAKH,KAAL,GAAa;AAACC,MAAAA,UAAU,EAAVA,UAAD;AAAaoB,MAAAA,iBAAiB,EAAjBA,iBAAb;AAAgClB,MAAAA,WAAW,EAAXA;AAAhC,KAAb;AALiB;AAMlB;;;;6BAoBS;AAAA;;AACRW,MAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ;AACA,aACE;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADA,EAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAW;AAAO,QAAA,KAAK,EAAE,KAAKf,KAAL,CAAWC,UAAzB;AAAqC,QAAA,QAAQ,EAAE,kBAAAqB,GAAG,EAAI;AAAC,UAAA,MAAI,CAACC,QAAL,CAAc;AAACtB,YAAAA,UAAU,EAAEqB,GAAG,CAACE,MAAJ,CAAWjB;AAAxB,WAAd;AAA+C,SAAtG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAX,MADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAkB;AAAO,QAAA,KAAK,EAAE,KAAKP,KAAL,CAAWqB,iBAAzB;AAA4C,QAAA,QAAQ,EAAE,kBAAAC,GAAG,EAAI;AAAC,UAAA,MAAI,CAACC,QAAL,CAAc;AAACF,YAAAA,iBAAiB,EAAEC,GAAG,CAACE,MAAJ,CAAWjB;AAA/B,WAAd;AAAsD,SAApH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAlB,CAFF,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAa;AAAO,QAAA,KAAK,EAAE,KAAKP,KAAL,CAAWG,WAAzB;AAAsC,QAAA,QAAQ,EAAE,kBAAAmB,GAAG,EAAI;AAAC,UAAA,MAAI,CAACC,QAAL,CAAc;AAACpB,YAAAA,WAAW,EAAEmB,GAAG,CAACE,MAAJ,CAAWjB;AAAzB,WAAd;AAAgD,SAAxG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAb,CAHF,EAIE;AAAQ,QAAA,OAAO,EAAE,iBAACkB,CAAD,EAAO;AAACA,UAAAA,CAAC,CAACC,cAAF;;AAAoB,UAAA,MAAI,CAACtB,SAAL,CAAe,MAAI,CAACJ,KAAL,CAAWC,UAA1B,EAAsC,MAAI,CAACD,KAAL,CAAWqB,iBAAjD,EAAoE,MAAI,CAACrB,KAAL,CAAWG,WAA/E;AAA4F,SAAzI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAJF,CAFA,CADF;AAWD;;;;EA9CqBN,S;;AAiDxB,eAAeC,SAAf","sourcesContent":["import React, { Component } from \"react\";\n\nclass AddBounty extends Component {\n  state = {\n    bountyName: \"\",\n    boutyDescription: \"\",\n    bountyValue: \"\",\n  }\n\n  constructor(props) {\n    super(props)\n    const bountyName = \"\";\n    const bountyDescription = \"\";\n    const bountyValue = \"\";\n    this.state = {bountyName, bountyDescription, bountyValue};\n  }\n\n  addBounty = async (name, description, value) => {\n    const ethValue = value * 1000000000000000000; // I would use web3.utils.toWei but somehow did not work (could not pass the args without errors)\n    if (name && description && value) {\n      try {\n        const responseAddBounty = await this.props.appState.contract.addBounty(name, description, {from: this.props.appState.accounts[0], value: ethValue});\n        console.log(responseAddBounty)\n        const bountyID = parseInt(responseAddBounty[\"logs\"][\"0\"][\"args\"][\"0\"]); // I am catching the event as payable is not returning the value\n        await this.props.appState.contract.fetchBounty(bountyID);\n        this.props.onAddBounty(bountyID);\n      } catch (error) {\n        console.log(error)\n        alert(\"Fail to post Bounty\");\n      }\n    } else {\n      alert (\"Missing elements to send a bounty\");\n    }\n  }\n\n  render () {\n    console.log(\"render Add Bounty\")\n    return (\n      <div className=\"addBounty\">\n      <h3>Add bounty</h3>\n      <form>\n        <label>Name<input value={this.state.bountyName} onChange={evt => {this.setState({bountyName: evt.target.value});}}/> </label>\n        <label>Description<input value={this.state.bountyDescription} onChange={evt => {this.setState({bountyDescription: evt.target.value});}}/></label>\n        <label>Reward<input value={this.state.bountyValue} onChange={evt => {this.setState({bountyValue: evt.target.value});}}/></label>\n        <button onClick={(e) => {e.preventDefault(); this.addBounty(this.state.bountyName, this.state.bountyDescription, this.state.bountyValue)}}>Add Bounty</button>\n      </form>\n      </div>\n    )\n  }\n}\n\nexport default AddBounty;\n"]},"metadata":{},"sourceType":"module"}