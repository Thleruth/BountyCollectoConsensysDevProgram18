{"ast":null,"code":"import _regeneratorRuntime from \"/home/thleruth/EthCode/bountyCollectorConsensys/BountyCollectorConsensysDevProgram18/truffle/client/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/thleruth/EthCode/bountyCollectorConsensys/BountyCollectorConsensysDevProgram18/truffle/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/thleruth/EthCode/bountyCollectorConsensys/BountyCollectorConsensysDevProgram18/truffle/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/thleruth/EthCode/bountyCollectorConsensys/BountyCollectorConsensysDevProgram18/truffle/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/thleruth/EthCode/bountyCollectorConsensys/BountyCollectorConsensysDevProgram18/truffle/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/thleruth/EthCode/bountyCollectorConsensys/BountyCollectorConsensysDevProgram18/truffle/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/thleruth/EthCode/bountyCollectorConsensys/BountyCollectorConsensysDevProgram18/truffle/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/thleruth/EthCode/bountyCollectorConsensys/BountyCollectorConsensysDevProgram18/truffle/client/src/components/AddDispute.jsx\";\nimport React, { Component } from \"react\";\n\nvar AddDispute =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(AddDispute, _Component);\n\n  function AddDispute(props) {\n    var _this;\n\n    _classCallCheck(this, AddDispute);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AddDispute).call(this, props));\n    _this.state = {\n      bountyID: \"\",\n      proposalID: \"\",\n      disputeDescription: \"\",\n      view: false\n    };\n    _this.addDispute =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var bountyID, proposalID, disputeDescription, disputeCost, disputeID, tx;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              bountyID = _this.state.bountyID;\n              proposalID = _this.state.proposalID;\n              disputeDescription = _this.state.disputeDescription;\n              disputeCost = _this.props.disputeCost;\n              disputeID = 0;\n\n              if (!(bountyID >= 0 && proposalID >= 0 && disputeDescription)) {\n                _context.next = 19;\n                break;\n              }\n\n              _context.prev = 6;\n              _context.next = 9;\n              return _this.props.appState.contract.disputeProposalReview(bountyID, proposalID, disputeDescription, {\n                from: _this.props.appState.accounts[0],\n                value: disputeCost\n              });\n\n            case 9:\n              tx = _context.sent;\n              disputeID = parseInt(tx[\"logs\"][\"0\"][\"args\"][\"0\"]); // I am catching the event as payable is not returning the value\n\n              _context.next = 17;\n              break;\n\n            case 13:\n              _context.prev = 13;\n              _context.t0 = _context[\"catch\"](6);\n              console.log(_context.t0);\n              alert(\"Fail to make a dispute\");\n\n            case 17:\n              _context.next = 20;\n              break;\n\n            case 19:\n              alert(\"Missing elements to make a Dispute\");\n\n            case 20:\n              _this.setState({\n                view: false,\n                bountyID: \"\",\n                proposalID: \"\",\n                disputeDescription: \"\"\n              });\n\n              _this.props.onAddDispute(proposalID, disputeID);\n\n            case 22:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this, [[6, 13]]);\n    }));\n    var _bountyID = \"\";\n    var _proposalID = \"\";\n    var _disputeDescription = \"\";\n    var view = false;\n    _this.state = {\n      bountyID: _bountyID,\n      proposalID: _proposalID,\n      disputeDescription: _disputeDescription,\n      view: view\n    };\n    return _this;\n  }\n\n  _createClass(AddDispute, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.props.onRef(this);\n    }\n  }, {\n    key: \"viewDisputeAdder\",\n    value: function viewDisputeAdder(bountyID, proposalID) {\n      this.setState({\n        bountyID: bountyID,\n        proposalID: proposalID,\n        view: true\n      });\n    }\n  }, {\n    key: \"conditionalRendering\",\n    value: function conditionalRendering() {\n      var _this2 = this;\n\n      if (this.state.view) {\n        return React.createElement(\"div\", {\n          className: \"addDispute\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52\n          },\n          __self: this\n        }, React.createElement(\"h3\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 53\n          },\n          __self: this\n        }, \"Dispute proposal #\", this.state.proposalID, \" for bounty #\", this.state.bountyID), React.createElement(\"form\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 54\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 55\n          },\n          __self: this\n        }, \"Description\", React.createElement(\"input\", {\n          value: this.state.disputeDescription,\n          onChange: function onChange(evt) {\n            _this2.setState({\n              disputeDescription: evt.target.value\n            });\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 55\n          },\n          __self: this\n        })), React.createElement(\"button\", {\n          onClick: function onClick(e) {\n            e.preventDefault();\n\n            _this2.addDispute();\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 56\n          },\n          __self: this\n        }, \"Add Dispute\")));\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, this.conditionalRendering());\n    }\n  }]);\n\n  return AddDispute;\n}(Component);\n\nexport default AddDispute;","map":{"version":3,"sources":["/home/thleruth/EthCode/bountyCollectorConsensys/BountyCollectorConsensysDevProgram18/truffle/client/src/components/AddDispute.jsx"],"names":["React","Component","AddDispute","props","state","bountyID","proposalID","disputeDescription","view","addDispute","disputeCost","disputeID","appState","contract","disputeProposalReview","from","accounts","value","tx","parseInt","console","log","alert","setState","onAddDispute","onRef","evt","target","e","preventDefault","conditionalRendering"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\n\nclass AddDispute extends Component {\n  state = {\n    bountyID: \"\",\n    proposalID: \"\",\n    disputeDescription: \"\",\n    view: false,\n  }\n\n  constructor(props) {\n    super(props)\n    const bountyID = \"\";\n    const proposalID = \"\";\n    const disputeDescription = \"\";\n    const view = false;\n    this.state = {bountyID, proposalID, disputeDescription, view};\n  }\n\n  componentDidMount() {\n    this.props.onRef(this);\n  }\n\n  viewDisputeAdder(bountyID, proposalID) {\n    this.setState({bountyID, proposalID, view: true });\n  }\n\n  addDispute = async () => {\n    const bountyID = this.state.bountyID;\n    const proposalID = this.state.proposalID;\n    const disputeDescription = this.state.disputeDescription;\n    const disputeCost = this.props.disputeCost;\n    var disputeID = 0;\n    if (bountyID >= 0 && proposalID >= 0 && disputeDescription) {\n      try {\n        const tx = await this.props.appState.contract.disputeProposalReview(bountyID, proposalID, disputeDescription, {from: this.props.appState.accounts[0], value: disputeCost});\n        disputeID = parseInt(tx[\"logs\"][\"0\"][\"args\"][\"0\"]); // I am catching the event as payable is not returning the value\n      } catch (error) {\n        console.log(error)\n        alert(\"Fail to make a dispute\");\n      }\n    } else {\n      alert (\"Missing elements to make a Dispute\");\n    }\n    this.setState({ view: false, bountyID: \"\", proposalID: \"\", disputeDescription:\"\" });\n    this.props.onAddDispute(proposalID, disputeID);\n  }\n\n  conditionalRendering() {\n    if (this.state.view) {\n      return (\n        <div className=\"addDispute\">\n        <h3>Dispute proposal #{this.state.proposalID} for bounty #{this.state.bountyID}</h3>\n        <form>\n          <label>Description<input value={this.state.disputeDescription} onChange={evt => {this.setState({disputeDescription: evt.target.value});}}/></label>\n          <button onClick={(e) => {e.preventDefault(); this.addDispute()}}>Add Dispute</button>\n        </form>\n        </div>\n      )\n    }\n  }\n\n  render () {\n    return (\n      <React.Fragment>\n      {this.conditionalRendering()}\n      </React.Fragment>\n    )\n  }\n}\n\nexport default AddDispute;\n"]},"metadata":{},"sourceType":"module"}