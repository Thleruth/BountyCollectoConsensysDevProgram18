{"ast":null,"code":"import _regeneratorRuntime from \"/home/airoslive/Codes/EthCode/BountyCollector/client/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/airoslive/Codes/EthCode/BountyCollector/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/airoslive/Codes/EthCode/BountyCollector/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/airoslive/Codes/EthCode/BountyCollector/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/airoslive/Codes/EthCode/BountyCollector/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/airoslive/Codes/EthCode/BountyCollector/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/airoslive/Codes/EthCode/BountyCollector/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/airoslive/Codes/EthCode/BountyCollector/client/src/components/ReviewProposal.jsx\";\nimport React, { Component } from \"react\";\n\nvar ReviewProposal =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ReviewProposal, _Component);\n\n  function ReviewProposal(props) {\n    var _this;\n\n    _classCallCheck(this, ReviewProposal);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ReviewProposal).call(this, props));\n    _this.state = {\n      bountyID: \"\",\n      proposalID: \"\",\n      reviewDescription: \"\",\n      view: false\n    };\n    _this.acceptProposal =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var tx;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!_this.state.reviewDescription) {\n                _context.next = 15;\n                break;\n              }\n\n              _context.prev = 1;\n              _context.next = 4;\n              return _this.props.appState.contract.acceptProposal(_this.state.bountyID, _this.state.proposalID, _this.state.reviewDescription, {\n                from: _this.props.appState.accounts[0]\n              });\n\n            case 4:\n              tx = _context.sent;\n              console.log(tx);\n\n              _this.props.onAcceptProposal(_this.state.bountyID, _this.state.proposalID); // this.setState({status: \"Accepted\"})\n\n\n              _context.next = 13;\n              break;\n\n            case 9:\n              _context.prev = 9;\n              _context.t0 = _context[\"catch\"](1);\n              console.log(_context.t0);\n              alert(\"Fail to accept proposal\");\n\n            case 13:\n              _context.next = 16;\n              break;\n\n            case 15:\n              alert(\"Missing description to accept proposal\");\n\n            case 16:\n              _this.setState({\n                view: false,\n                bountyID: \"\",\n                proposalID: \"\",\n                reviewDescription: \"\"\n              });\n\n            case 17:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this, [[1, 9]]);\n    }));\n    _this.declineProposal =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee2() {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              if (!_this.state.reviewDescription) {\n                _context2.next = 13;\n                break;\n              }\n\n              _context2.prev = 1;\n              _context2.next = 4;\n              return _this.props.appState.contract.declineProposal(_this.state.bountyID, _this.state.proposalID, _this.state.reviewDescription, {\n                from: _this.props.appState.accounts[0]\n              });\n\n            case 4:\n              _this.props.onDeclineProposal(_this.state.bountyID, _this.state.proposalID); // this.setState({status: \"Accepted\"})\n\n\n              _context2.next = 11;\n              break;\n\n            case 7:\n              _context2.prev = 7;\n              _context2.t0 = _context2[\"catch\"](1);\n              console.log(_context2.t0);\n              alert(\"Fail to decline proposal\");\n\n            case 11:\n              _context2.next = 14;\n              break;\n\n            case 13:\n              alert(\"Missing description to decline proposal\");\n\n            case 14:\n              _this.setState({\n                view: false,\n                bountyID: \"\",\n                proposalID: \"\",\n                reviewDescription: \"\"\n              });\n\n            case 15:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this, [[1, 7]]);\n    }));\n    var bountyID = \"\";\n    var proposalID = \"\";\n    var reviewDescription = \"\";\n    var view = false;\n    _this.state = {\n      bountyID: bountyID,\n      proposalID: proposalID,\n      reviewDescription: reviewDescription,\n      view: view\n    };\n    return _this;\n  }\n\n  _createClass(ReviewProposal, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.props.onRef(this);\n    }\n  }, {\n    key: \"viewProposalReviewer\",\n    value: function viewProposalReviewer(bountyID, proposalID) {\n      this.setState({\n        bountyID: bountyID,\n        proposalID: proposalID,\n        view: true\n      });\n    }\n  }, {\n    key: \"conditionalRendering\",\n    value: function conditionalRendering() {\n      var _this2 = this;\n\n      if (this.state.view) {\n        return React.createElement(\"div\", {\n          className: \"ReviewProposal\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66\n          },\n          __self: this\n        }, React.createElement(\"h3\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 67\n          },\n          __self: this\n        }, \"Review Proposal #\", this.state.proposalID, \" for bounty #\", this.state.bountyID), React.createElement(\"form\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 68\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69\n          },\n          __self: this\n        }, \"Description\", React.createElement(\"input\", {\n          value: this.state.reviewDescription,\n          onChange: function onChange(evt) {\n            _this2.setState({\n              reviewDescription: evt.target.value\n            });\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69\n          },\n          __self: this\n        })), React.createElement(\"button\", {\n          onClick: function onClick(e) {\n            e.preventDefault();\n\n            _this2.acceptProposal();\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70\n          },\n          __self: this\n        }, \"Accept Proposal\"), React.createElement(\"button\", {\n          onClick: function onClick(e) {\n            e.preventDefault();\n\n            _this2.declineProposal();\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 71\n          },\n          __self: this\n        }, \"Decline Proposal\")));\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      console.log(\"render Review Proposal\");\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, this.conditionalRendering());\n    }\n  }]);\n\n  return ReviewProposal;\n}(Component);\n\nexport default ReviewProposal;","map":{"version":3,"sources":["/home/airoslive/Codes/EthCode/BountyCollector/client/src/components/ReviewProposal.jsx"],"names":["React","Component","ReviewProposal","props","state","bountyID","proposalID","reviewDescription","view","acceptProposal","appState","contract","from","accounts","tx","console","log","onAcceptProposal","alert","setState","declineProposal","onDeclineProposal","onRef","evt","target","value","e","preventDefault","conditionalRendering"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;;IAEMC,c;;;;;AAQJ,0BAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,wFAAMA,KAAN;AADiB,UAPnBC,KAOmB,GAPX;AACNC,MAAAA,QAAQ,EAAE,EADJ;AAENC,MAAAA,UAAU,EAAE,EAFN;AAGNC,MAAAA,iBAAiB,EAAE,EAHb;AAINC,MAAAA,IAAI,EAAE;AAJA,KAOW;AAAA,UAiBnBC,cAjBmB;AAAA;AAAA;AAAA;AAAA,6BAiBF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACX,MAAKL,KAAL,CAAWG,iBADA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,qBAGM,MAAKJ,KAAL,CAAWO,QAAX,CAAoBC,QAApB,CAA6BF,cAA7B,CAA4C,MAAKL,KAAL,CAAWC,QAAvD,EAAiE,MAAKD,KAAL,CAAWE,UAA5E,EAAwF,MAAKF,KAAL,CAAWG,iBAAnG,EAAsH;AAACK,gBAAAA,IAAI,EAAE,MAAKT,KAAL,CAAWO,QAAX,CAAoBG,QAApB,CAA6B,CAA7B;AAAP,eAAtH,CAHN;;AAAA;AAGLC,cAAAA,EAHK;AAIXC,cAAAA,OAAO,CAACC,GAAR,CAAYF,EAAZ;;AACA,oBAAKX,KAAL,CAAWc,gBAAX,CAA4B,MAAKb,KAAL,CAAWC,QAAvC,EAAiD,MAAKD,KAAL,CAAWE,UAA5D,EALW,CAMX;;;AANW;AAAA;;AAAA;AAAA;AAAA;AAQXS,cAAAA,OAAO,CAACC,GAAR;AACAE,cAAAA,KAAK,CAAC,yBAAD,CAAL;;AATW;AAAA;AAAA;;AAAA;AAYbA,cAAAA,KAAK,CAAE,wCAAF,CAAL;;AAZa;AAcf,oBAAKC,QAAL,CAAc;AAAEX,gBAAAA,IAAI,EAAE,KAAR;AAAeH,gBAAAA,QAAQ,EAAE,EAAzB;AAA6BC,gBAAAA,UAAU,EAAE,EAAzC;AAA6CC,gBAAAA,iBAAiB,EAAE;AAAhE,eAAd;;AAde;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAjBE;AAAA,UAmCnBa,eAnCmB;AAAA;AAAA;AAAA;AAAA,6BAmCD;AAAA;AAAA;AAAA;AAAA;AAAA,mBACZ,MAAKhB,KAAL,CAAWG,iBADC;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,qBAGN,MAAKJ,KAAL,CAAWO,QAAX,CAAoBC,QAApB,CAA6BS,eAA7B,CAA6C,MAAKhB,KAAL,CAAWC,QAAxD,EAAkE,MAAKD,KAAL,CAAWE,UAA7E,EAAyF,MAAKF,KAAL,CAAWG,iBAApG,EAAuH;AAACK,gBAAAA,IAAI,EAAE,MAAKT,KAAL,CAAWO,QAAX,CAAoBG,QAApB,CAA6B,CAA7B;AAAP,eAAvH,CAHM;;AAAA;AAIZ,oBAAKV,KAAL,CAAWkB,iBAAX,CAA6B,MAAKjB,KAAL,CAAWC,QAAxC,EAAkD,MAAKD,KAAL,CAAWE,UAA7D,EAJY,CAKZ;;;AALY;AAAA;;AAAA;AAAA;AAAA;AAOZS,cAAAA,OAAO,CAACC,GAAR;AACAE,cAAAA,KAAK,CAAC,0BAAD,CAAL;;AARY;AAAA;AAAA;;AAAA;AAWdA,cAAAA,KAAK,CAAE,yCAAF,CAAL;;AAXc;AAahB,oBAAKC,QAAL,CAAc;AAAEX,gBAAAA,IAAI,EAAE,KAAR;AAAeH,gBAAAA,QAAQ,EAAE,EAAzB;AAA6BC,gBAAAA,UAAU,EAAE,EAAzC;AAA6CC,gBAAAA,iBAAiB,EAAE;AAAhE,eAAd;;AAbgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAnCC;AAEjB,QAAMF,QAAQ,GAAG,EAAjB;AACA,QAAMC,UAAU,GAAG,EAAnB;AACA,QAAMC,iBAAiB,GAAG,EAA1B;AACA,QAAMC,IAAI,GAAG,KAAb;AACA,UAAKJ,KAAL,GAAa;AAACC,MAAAA,QAAQ,EAARA,QAAD;AAAWC,MAAAA,UAAU,EAAVA,UAAX;AAAuBC,MAAAA,iBAAiB,EAAjBA,iBAAvB;AAA0CC,MAAAA,IAAI,EAAJA;AAA1C,KAAb;AANiB;AAOlB;;;;wCAEmB;AAClB,WAAKL,KAAL,CAAWmB,KAAX,CAAiB,IAAjB;AACD;;;yCAEoBjB,Q,EAAUC,U,EAAY;AACzC,WAAKa,QAAL,CAAc;AAAEd,QAAAA,QAAQ,EAARA,QAAF;AAAYC,QAAAA,UAAU,EAAVA,UAAZ;AAAwBE,QAAAA,IAAI,EAAE;AAA9B,OAAd;AACD;;;2CAqCsB;AAAA;;AACrB,UAAI,KAAKJ,KAAL,CAAWI,IAAf,EAAqB;AACnB,eACE;AAAK,UAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCAAsB,KAAKJ,KAAL,CAAWE,UAAjC,mBAA0D,KAAKF,KAAL,CAAWC,QAArE,CADA,EAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAAkB;AAAO,UAAA,KAAK,EAAE,KAAKD,KAAL,CAAWG,iBAAzB;AAA4C,UAAA,QAAQ,EAAE,kBAAAgB,GAAG,EAAI;AAAC,YAAA,MAAI,CAACJ,QAAL,CAAc;AAACZ,cAAAA,iBAAiB,EAAEgB,GAAG,CAACC,MAAJ,CAAWC;AAA/B,aAAd;AAAsD,WAApH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAlB,CADF,EAEE;AAAQ,UAAA,OAAO,EAAE,iBAACC,CAAD,EAAO;AAACA,YAAAA,CAAC,CAACC,cAAF;;AAAoB,YAAA,MAAI,CAAClB,cAAL;AAAsB,WAAnE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BAFF,EAGE;AAAQ,UAAA,OAAO,EAAE,iBAACiB,CAAD,EAAO;AAACA,YAAAA,CAAC,CAACC,cAAF;;AAAoB,YAAA,MAAI,CAACP,eAAL;AAAuB,WAApE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAHF,CAFA,CADF;AAUD;AACF;;;6BAES;AACRL,MAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ;AACA,aACE,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC,KAAKY,oBAAL,EADD,CADF;AAKD;;;;EAlF0B3B,S;;AAqF7B,eAAeC,cAAf","sourcesContent":["import React, { Component } from \"react\";\n\nclass ReviewProposal extends Component {\n  state = {\n    bountyID: \"\",\n    proposalID: \"\",\n    reviewDescription: \"\",\n    view: false,\n  }\n\n  constructor(props) {\n    super(props);\n    const bountyID = \"\";\n    const proposalID = \"\";\n    const reviewDescription = \"\";\n    const view = false;\n    this.state = {bountyID, proposalID, reviewDescription, view};\n  }\n\n  componentDidMount() {\n    this.props.onRef(this);\n  }\n\n  viewProposalReviewer(bountyID, proposalID) {\n    this.setState({ bountyID, proposalID, view: true });\n  }\n\n  acceptProposal = async() => {\n    if (this.state.reviewDescription) {\n      try {\n        const tx = await this.props.appState.contract.acceptProposal(this.state.bountyID, this.state.proposalID, this.state.reviewDescription, {from: this.props.appState.accounts[0]});\n        console.log(tx)\n        this.props.onAcceptProposal(this.state.bountyID, this.state.proposalID);\n        // this.setState({status: \"Accepted\"})\n      } catch (error) {\n        console.log(error)\n        alert(\"Fail to accept proposal\");\n      }\n    } else {\n      alert (\"Missing description to accept proposal\");\n    }\n    this.setState({ view: false, bountyID: \"\", proposalID: \"\", reviewDescription: \"\"});\n\n  }\n\n  declineProposal = async() => {\n    if (this.state.reviewDescription) {\n      try {\n        await this.props.appState.contract.declineProposal(this.state.bountyID, this.state.proposalID, this.state.reviewDescription, {from: this.props.appState.accounts[0]});\n        this.props.onDeclineProposal(this.state.bountyID, this.state.proposalID);\n        // this.setState({status: \"Accepted\"})\n      } catch (error) {\n        console.log(error)\n        alert(\"Fail to decline proposal\");\n      }\n    } else {\n      alert (\"Missing description to decline proposal\");\n    }\n    this.setState({ view: false, bountyID: \"\", proposalID: \"\", reviewDescription: \"\"});\n\n  }\n\n  conditionalRendering() {\n    if (this.state.view) {\n      return (\n        <div className=\"ReviewProposal\">\n        <h3>Review Proposal #{this.state.proposalID} for bounty #{this.state.bountyID}</h3>\n        <form>\n          <label>Description<input value={this.state.reviewDescription} onChange={evt => {this.setState({reviewDescription: evt.target.value});}}/></label>\n          <button onClick={(e) => {e.preventDefault(); this.acceptProposal()}}>Accept Proposal</button>\n          <button onClick={(e) => {e.preventDefault(); this.declineProposal()}}>Decline Proposal</button>\n        </form>\n        </div>\n      )\n    }\n  }\n\n  render () {\n    console.log(\"render Review Proposal\")\n    return (\n      <React.Fragment>\n      {this.conditionalRendering()}\n      </React.Fragment>\n    )\n  }\n}\n\nexport default ReviewProposal;\n"]},"metadata":{},"sourceType":"module"}