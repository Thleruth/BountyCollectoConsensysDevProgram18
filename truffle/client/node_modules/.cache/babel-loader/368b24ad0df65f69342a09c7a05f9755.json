{"ast":null,"code":"import _regeneratorRuntime from \"/home/airoslive/Codes/EthCode/BountyCollectorConsenSys/truffle/client/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/airoslive/Codes/EthCode/BountyCollectorConsenSys/truffle/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/airoslive/Codes/EthCode/BountyCollectorConsenSys/truffle/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/airoslive/Codes/EthCode/BountyCollectorConsenSys/truffle/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/airoslive/Codes/EthCode/BountyCollectorConsenSys/truffle/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/airoslive/Codes/EthCode/BountyCollectorConsenSys/truffle/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/airoslive/Codes/EthCode/BountyCollectorConsenSys/truffle/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/airoslive/Codes/EthCode/BountyCollectorConsenSys/truffle/client/src/components/AddProposal.jsx\";\nimport React, { Component } from \"react\";\n\nvar AddProposal =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(AddProposal, _Component);\n\n  function AddProposal(props) {\n    var _this;\n\n    _classCallCheck(this, AddProposal);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AddProposal).call(this, props));\n    _this.state = {\n      proposalDescription: \"\",\n      bountyID: \"\",\n      view: false\n    };\n    _this.addProposal =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var identifier, description;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              identifier = _this.state.bountyID;\n              description = _this.state.proposalDescription;\n\n              if (!(identifier >= 0 && description)) {\n                _context.next = 18;\n                break;\n              }\n\n              if (!(identifier <= _this.props.bountiesCounter)) {\n                _context.next = 15;\n                break;\n              }\n\n              _context.prev = 4;\n              _context.next = 7;\n              return _this.props.appState.contract.postProposal(identifier, description, {\n                from: _this.props.appState.accounts[0]\n              });\n\n            case 7:\n              _context.next = 13;\n              break;\n\n            case 9:\n              _context.prev = 9;\n              _context.t0 = _context[\"catch\"](4);\n              console.log(_context.t0);\n              alert(\"Fail to post Proposal\");\n\n            case 13:\n              _context.next = 16;\n              break;\n\n            case 15:\n              alert(\"Identifier does not exist\");\n\n            case 16:\n              _context.next = 19;\n              break;\n\n            case 18:\n              alert(\"Missing elements to send a Proposal\");\n\n            case 19:\n              _this.setState({\n                view: false,\n                proposalDescription: \"\"\n              });\n\n              _this.props.onAddProposal(identifier);\n\n            case 21:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this, [[4, 9]]);\n    }));\n    var proposalDescription = \"\";\n    var bountyID = \"\";\n    var view = false;\n    _this.state = {\n      proposalDescription: proposalDescription,\n      bountyID: bountyID,\n      view: view\n    };\n    return _this;\n  }\n\n  _createClass(AddProposal, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.props.onRef(this);\n    }\n  }, {\n    key: \"viewProposalAdder\",\n    value: function viewProposalAdder(bountyID) {\n      this.setState({\n        bountyID: bountyID,\n        view: true\n      });\n    }\n  }, {\n    key: \"conditionalRendering\",\n    value: function conditionalRendering() {\n      var _this2 = this;\n\n      if (this.state.view) {\n        return React.createElement(\"div\", {\n          className: \"addProposal\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 50\n          },\n          __self: this\n        }, React.createElement(\"h3\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 51\n          },\n          __self: this\n        }, \"Add proposal for bounty #\", this.state.bountyID), React.createElement(\"form\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 53\n          },\n          __self: this\n        }, \"Description\", React.createElement(\"input\", {\n          value: this.state.proposalDescription,\n          onChange: function onChange(evt) {\n            _this2.setState({\n              proposalDescription: evt.target.value\n            });\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 53\n          },\n          __self: this\n        })), React.createElement(\"button\", {\n          onClick: function onClick(e) {\n            e.preventDefault();\n\n            _this2.addProposal();\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 54\n          },\n          __self: this\n        }, \"Confirm Proposal\")));\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, this.conditionalRendering());\n    }\n  }]);\n\n  return AddProposal;\n}(Component);\n\nexport default AddProposal;","map":{"version":3,"sources":["/home/airoslive/Codes/EthCode/BountyCollectorConsenSys/truffle/client/src/components/AddProposal.jsx"],"names":["React","Component","AddProposal","props","state","proposalDescription","bountyID","view","addProposal","identifier","description","bountiesCounter","appState","contract","postProposal","from","accounts","console","log","alert","setState","onAddProposal","onRef","evt","target","value","e","preventDefault","conditionalRendering"],"mappings":"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","sourcesContent":["    import React, { Component } from \"react\";\n\nclass AddProposal extends Component {\n  state = {\n    proposalDescription: \"\",\n    bountyID: \"\",\n    view: false,\n  }\n\n  constructor(props) {\n    super(props);\n    const proposalDescription = \"\";\n    const bountyID = \"\";\n    const view = false;\n    this.state = {proposalDescription, bountyID, view};\n  }\n\n  componentDidMount() {\n    this.props.onRef(this);\n  }\n\n  viewProposalAdder(bountyID) {\n    this.setState({ bountyID, view: true });\n  }\n\n  addProposal = async () => {\n    const identifier = this.state.bountyID;\n    const description = this.state.proposalDescription;\n    if (identifier >= 0 && description) {\n      if (identifier <= this.props.bountiesCounter) {\n        try {\n          await this.props.appState.contract.postProposal(identifier, description, {from: this.props.appState.accounts[0]});\n        } catch (error) {\n          console.log(error)\n          alert(\"Fail to post Proposal\");\n        }\n      } else {\n        alert (\"Identifier does not exist\")\n      }\n    } else {\n      alert (\"Missing elements to send a Proposal\");\n    }\n    this.setState({ view: false, proposalDescription: \"\" });\n    this.props.onAddProposal(identifier)\n  }\n\n  conditionalRendering() {\n    if (this.state.view) {\n      return (\n        <div className=\"addProposal\">\n        <h3>Add proposal for bounty #{this.state.bountyID}</h3>\n        <form>\n          <label>Description<input value={this.state.proposalDescription} onChange={evt => {this.setState({proposalDescription: evt.target.value});}}/></label>\n          <button onClick={(e) => {e.preventDefault(); this.addProposal()}}>Confirm Proposal</button>\n        </form>\n        </div>\n      )\n    }\n  }\n  render () {\n    return (\n      <React.Fragment>\n      {this.conditionalRendering()}\n      </React.Fragment>\n    )\n  }\n}\n\nexport default AddProposal;\n"]},"metadata":{},"sourceType":"module"}